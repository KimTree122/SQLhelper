
@{
    ViewBag.Title = "AuthManage";
    Layout = "~/Views/Shared/_LayoutEasyUI.cshtml";
}
<div class="easyui-panel">
    <div style="display:flex;">
        <div class="easyui-panel" title="列表" style="width:30%; height:400px;">
            <div id="sm" class="easyui-sidemenu" data-options="data:MenuData">

            </div>
        </div>
        <div  class="easyui-panel" title="项目" style="width:70%;height:400px;">

        </div>
    </div>
</div>
<script type="text/javascript">
    $().ready(function () {
        //InitLayout();
    });

    function InitLayout() {
        $('#sm').sidemenu({
            data: MenuData
        });
        $.post("", "", function () {

        }, '').fail()
    }

    function MenuData() {
        var data = [{
            text: 'Item1',
            iconCls: 'icon-sum',
            state: 'open',
            children: [{
                text: 'Option1'
            }, {
                text: 'Option2'
            }, {
                text: 'Option3',
                children: [{
                    text: 'Option31'
                }, {
                    text: 'Option32'
                }]
            }]
        }, {
            text: 'Item2',
            iconCls: 'icon-more',
            children: [{
                text: 'Option4'
            }, {
                text: 'Option5'
            }, {
                text: 'Option6'
            }]
            }];
        return data;
    }

    //  监听 ctrl + c事件
    $(document).unbind('keydown').bind('keydown', function (e) {
        if (e.ctrlKey && e.keyCode == 67) {
            doSomething();
            // 返回false, 防止重复触发copy事件
            return false;
        }
    })

    // 鼠标右键的复制事件
    $(document).unbind('copy').bind('copy', function (e) {
        setTime();
        console.log('右键复制 监听成功');
    });

    function doSomething() {
        setTime();
        console.log('ctrl + c 监听成功');
    }

    function setTime() {
        if (window.localStorage) {
            let time = localStorage.getItem('time');
            time ? time++ : time = 1;
            localStorage.setItem('time', time);
        }
    }


</script>

